version: 0.1.0.{build}
branches:
  only:
    - master

environment:
  CLI_VERSION: latest
  CLI_ARCH: x64
  DOTNETCLI_ZIP_URL: https://go.microsoft.com/fwlink/?LinkID=831469
  
install:
  - ps: (New-Object Net.WebClient).DownloadFile("$env:DOTNETCLI_ZIP_URL",'dotnet.zip')
  - ps: $env:DOTNET_INSTALL_DIR = "$pwd\.dotnetcli"
  - ps: 7z x dotnet.zip -y -o"%DOTNET_INSTALL_DIR%\.dotnetcli"
  - ps: $env:Path = "$env:DOTNET_INSTALL_DIR;$env:Path"

before_build:
  - dotnet --info
          
build_script:
  - dotnet restore

test_script:
  - dotnet test test/ConsoleApp.test
